{% extends 'base.html' %}
{% block content %}
<h1>{{ post.title }}</h1>
<p>
  by {{ post.author.username }} on {{ post.created_at|date:"M d, Y H:i" }}
</p>
<p>{{ post.content }}</p>
<p>Score: {{ post.vote_score }}</p>
<p>
  <a href="{% url 'forum:vote_post' post.pk 'up' %}">Upvote</a> |
  <a href="{% url 'forum:vote_post' post.pk 'down' %}">Downvote</a>
</p>

<hr>
<h2>Comments</h2>
<ul>
  {% for comment in comments %}
    <li>
      <strong>{{ comment.author.username }}:</strong>
      {{ comment.content }}
      <em>on {{ comment.created_at|date:"M d, Y H:i" }}</em>
    </li>
  {% empty %}
    <li>No comments yet.</li>
  {% endfor %}
</ul>

<h3>Add a Comment</h3>
<form method="post" action="{% url 'forum:add_comment' post.pk %}">
  {% csrf_token %}
  {{ comment_form.as_p }}
  <button type="submit">Add Comment</button>
</form>
{% endblock %}
